### mev
- 概念
  - MEV 是矿工或网络验证者通过重新排列和重新排序等待确认的交易来提取的最大价值量。
- 提取策略
  - Dex 套利
    - 当一个交易所与另一个交易所存在显着的价格差异时，MEV 机器人会购买价格较低的代币，然后在另一个交易所以更高的价值出售。
    - 好处：各交易所的代币价格变得更加一致，使去中心化金融 （DeFi） 市场更加高效。
  - Liquidations  清算
    - 当借款人的抵押品价值不足以支付其贷款或债务的价值时，就会发生清算 。一旦债务被清算，任何个人都可以以折扣价购买原始抵押物，并以更高的价格转售资产以赚取利润。
    - 在这种 MEV 类型中，搜索者充当清算者，他们在区块链中扫描需要清算的不健康的贷款头寸。这些人确定符合清算条件的贷款头寸，以折扣价收购借款人的抵押品，并以更高的价格转售以获得额外价值。
  - sandwich 攻击
      - 当搜索者在去中心化交易所 （DEX） 上检测到大量待处理交易，在交易之前和之后进行交易，以从人为的价格变化中受益
      - 三明治攻击最终将影响进行初始交易的用户将获得的加密货币数量，而攻击者将从价格差异中受益。
          - 交易 1：MEV 机器人执行买入订单，推高代币价格。
          - 交易 2：MEV 受害者以较高的价格购买代币。
          - 交易 3：MEV 机器人将代币出售到池中，从价差中受益。
      -  MEV 受害者最终支付多高取决于他们输入的“滑点”——他们愿意接受的交易订单和执行之间的百分比价格差异。
  - Front-running  抢跑
    - 抢先交易是三明治攻击的第一阶段，它涉及在区块链的内存池中搜索可能影响特定资产价格的待处理交易，并从中提取大量价值。例如，如果领跑者（通常是复杂的机器人）检测到特定加密货币的大额买单，他们就会认识到这笔交易一旦确认，可能会推高代币的价值。
    - 然后，机器人将为同一代币创建一个购买订单，以便在目标交易之前处理他们的交易。他们为交易分配更高的 gas 价格，激励验证者优先考虑他们的购买订单而不是最初检测到的交易。
  - Back-running  倒退
    - 为了完成三明治攻击，机器人还创建了一个卖单，打算在目标交易后立即执行，从而以更高的价格出售资产。这种策略被称为 back-running，它是通过为第二笔交易分配较低的 gas 价格来实现的，以确保它在目标交易后得到验证。
    - 最终，这种类型的 MEV 将降低目标交易者本可以从他们的交易中获得的价值。同时，搜索者从目标交易触发的价格波动中受益。
- 如何避免
  - RPC Endpoints (MEV Blockers)
    - 由于 MEV 提取依赖于以新的、有利可图的顺序重新排列交易，因此可以通过将交易提交给受特定规则约束的专门搜索者网络来避免这种纵，以确保对用户有利的执行。
    - MEV 阻止程序通过 RPC（远程过程调用）端点运行，RPC 是区块链和用户钱包之间的通信协议。RPC 端点安全地重新路由到上述搜索者网络，而不是将交易发送到恶意搜索者等待攻击的公开可见内存池。
  - Priority Gas Fees 
    - 矿工或验证者将优先考虑并处理 gas 费用更高的交易
    - 交易者应考虑为他们的交易支付优先 gas 费用，尤其是大额交易，以避免成为 MEV 攻击的受害者。
    - 高昂的价格和成本回报率可能会阻止大多数搜索者将交易作为目标。
  - DEX-Native MEV Protection
    - 交易者可以通过利用旨在减轻 MEV 影响的 DEX 或 dApp 来保护自己免受 MEV 漏洞的攻击。
    - 批量拍卖是一种交易机制，它分批收集订单，并将其“拍卖”给执行方（也称为求解器），执行方相互竞争以找到最佳的订单结算路径。
- MEV on Solana vs. MEV on Ethereum
  - 以太坊网络是一个权益证明网络，Solana 以历史证明 （PoH） 和委托权益证明共识机制的独特组合运行
    - Solana 的 PoH 机制通过在区块链上建立无需信任且可验证的交易顺序来运行。这种共识算法的时间顺序使得很难重新排列或纵交易以获得额外的价值，就像抢跑攻击一样。
  - 与以太坊不同，Solana 基础设施没有公开可见的内存池，交易在其中等待验证。这意味着搜索者无法定位单个交易，从而降低了三明治攻击和抢先交易的可能性。
  - 与以太坊相比，Solana 上的交易费用几乎不存在。由于大多数交易的成本可以忽略不计，因此从事依靠天然气战获得有利配置的 MEV 做法具有挑战性。如果搜索者无法通过分配更高的 gas 费将他们的订单推到目标交易之前，那么抢先进行此类交易的可能性接近于零。
  - Solana 相对更高的速度和更好的能源效率。由于其高吞吐量和低延迟，交易可以快速、大量地处理，从而限制了 MEV 漏洞利用的机会窗口。
  - Solana 更容易受到 MEV NFT 机器人的影响，其中机器人通过铸币请求蜂拥而至，以在发布时获得尽可能多的 NFT 并立即转售
    - 因为 Solana 上的交易 gas 费用很低，影响了 NFT 市场并导致网络拥堵。建议的解决方案包括对无效交易征收“税”和对流行 NFT 的动态定价。
